import { componentQrl, inlinedQrl, useContext, useSignal, useVisibleTaskQrl, useLexicalScope, useOn, _jsxS, _jsxQ } from "@builder.io/qwik";
import SelectContextId from "./select-context-id.qwik.mjs";
const NativeSelect = /* @__PURE__ */ componentQrl(/* @__PURE__ */ inlinedQrl(({ ...props }) => {
  const selectContext = useContext(SelectContextId);
  const ref = useSignal();
  useVisibleTaskQrl(/* @__PURE__ */ inlinedQrl(function populateNativeSelect({ track }) {
    const [ref2, selectContext2] = useLexicalScope();
    const options = track(() => selectContext2.optionsStore);
    options.length > 0 && options.map((option) => {
      const optionElement = document.createElement("option");
      const optionValue = option.dataset.optionValue;
      optionElement.setAttribute("value", optionValue);
      ref2.value?.append(optionElement);
    });
  }, "NativeSelect_component_useVisibleTask_pVEAV0jZR2M", [
    ref,
    selectContext
  ]));
  useOn("change", /* @__PURE__ */ inlinedQrl((e) => {
    const [selectContext2] = useLexicalScope();
    const target = e.target;
    target.value = selectContext2.selectedOptionSig.value;
  }, "NativeSelect_component_useOn_P80AUva3Pw4", [
    selectContext
  ]));
  return /* @__PURE__ */ _jsxS("select", {
    ref,
    ...props,
    children: /* @__PURE__ */ _jsxQ("option", null, {
      value: ""
    }, null, 3, null),
    "onInput$": /* @__PURE__ */ inlinedQrl((_, elm) => {
      const [selectContext2] = useLexicalScope();
      return selectContext2.selectedOptionSig.value = elm.value;
    }, "NativeSelect_component_select_bind_value_RqRmmyGaw0A", [
      selectContext
    ])
  }, {
    "aria-hidden": true,
    required: true,
    tabIndex: -1,
    "value": selectContext.selectedOptionSig
  }, 0, "HX_0");
}, "NativeSelect_component_6RhFHBnWeog"));
export {
  NativeSelect
};
